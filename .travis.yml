language: python
python:
  - "3.4.3"
cache: pip
services:
  - xvfb
addons:
  chrome: stable
before_install:
  - sudo apt-get install xvfb
  - sudo apt-get update && apt-get install libxss1 libappindicator1 libindicator7
  - wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
  - sudo dpkg -i google-chrome*.deb
  - sudo apt-get install -f
install:
  - pip install nose
  - pip install behave selenium webdriver_manager pyvirtualdisplay
script:
  - cd $TRAVIS_BUILD_DIR/code/tdd && nosetests
  - cd $TRAVIS_BUILD_DIR/code/bdd && behave --tags=run
after_failure:
  - cat /var/log/chromedriver.log