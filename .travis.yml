language: python
python:
  - "3.4.3"
cache: pip
before_install:
  - sudo apt-get install -y xvfb
  - sudo apt-get update && sudo apt-get install -y libxss1 libappindicator1 libindicator7
  - wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
  - sudo dpkg -i google-chrome*.deb
  - sudo apt-get install -fy
install:
  - pip install nose
  - pip install behave selenium webdriver_manager pyvirtualdisplay
script:
  - cd $TRAVIS_BUILD_DIR/code/tdd && nosetests
  - cd $TRAVIS_BUILD_DIR/code/bdd && behave --tags=run
after_failure:
  - cat $HOME/chromedriver.log